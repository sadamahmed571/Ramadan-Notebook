# وثيقة تطوير الورد القرآني - "خُطى"

## مقدمة
تهدف هذه الوثيقة إلى دمج رؤية المستخدم مع الأفكار الإبداعية لخلق تجربة قراءة قرآنية فريدة، تمزج بين الروحانية والتقنية الحديثة. تم ترقيم الأفكار لتسهيل عملية الاختيار والتنفيذ.

---

## القسم الأول: تطوير "ويدجت" الصفحة الرئيسية (The Smart Bridge)

### 1-1. المحفز الذكي (Dynamic CTA) [فكرة المستخدم]
- **الوصف:** استبدال النص الثابت بنص متغير يعتمد على آخر موضع توقف.
- **مثال:** "وصلت إلى سورة البقرة آية 142، واصل رحلتك".
- **الإضافة التقنية:** سحب اسم السورة ورقم الآية من `localStorage` أو `Dexie` وعرضها فوراً.

### 1-2. الهالة الشعورية (Emotional Aura) [فكرة المستخدم + إضافة إبداعية]
- **الوصف:** أيقونة أو هالة ضوئية حول الويدجت تتغير بناءً على حالة الإنجاز.
- **الإضافة:**
    - **بداية الورد:** ضوء خافت ودافئ (استهلال).
    - **منتصف الورد:** ضوء يزداد سطوعاً (همة).
    - **قرب الختم:** توهج ذهبي (بشارة).

### 1-3. الوصول السريع للأجزاء (Quick Jump) [فكرة المستخدم]
- **الوصف:** أيقونات مصغرة للأجزاء (ثمن، ربع) أسفل الشريط للانتقال المباشر.

### 1-4. عداد "الوقت المتبقي" المتوقع [إضافة إبداعية]
- **الوصف:** بناءً على متوسط سرعة القراءة (يمكن تقديره مبدئياً)، نعرض للمستخدم: "بقي لك حوالي 15 دقيقة لإنهاء ورد اليوم". هذا يساعده نفسياً على البدء إذا كان الوقت قصيراً.

---

## القسم الثاني: صفحة القراءة المدمجة (The Immersive Reader - quran.html)

### 2-1. وضع التركيز العميق (Deep Focus Mode) [فكرة المستخدم]
- **الوصف:** واجهة خالية تماماً من المشتتات عند القراءة.
- **التنفيذ:** اختفاء الـ Header والـ Footer تلقائياً عند التمرير لأسفل (Scroll Down) وظهورهما عند التمرير لأعلى (Scroll Up).
- **الخلفية:** لون "ورقي" (Creamy/Sepia) مريح للعين مع ملمس خفيف (Texture).

### 2-2. التتبع الآلي الذكي (Smart Auto-Tracker) [فكرة المستخدم + إضافة إبداعية]
- **الوصف:** تظليل الآية التي في منتصف الشاشة وحفظ مكانها.
- **الإضافة:** استخدام `IntersectionObserver` API لدقة عالية في تحديد الآية النشطة دون التأثير على أداء الصفحة. التظليل يكون "نبضاً" خافتاً (Soft Pulse) وليس لوناً ثابتاً مزعجاً.

### 2-3. العداد التنازلي الحسي (Haptic Countdown) [فكرة المستخدم]
- **الوصف:** عداد الصفحات المتبقية في زاوية علوية.
- **الإضافة:** جعل العداد دائرياً صغيراً جداً (Circular Progress) يمتلئ مع كل صفحة تقرأها، ومع اكتمال الحلقة (نهاية الورد) يهتز الهاتف.

### 2-4. التفسير/الترجمة اللحظية (Instant Insight) [إضافة إبداعية]
- **الوصف:** عند النقر المزدوج (Double Tap) على أي آية، تظهر نافذة منبثقة سفلية (Bottom Sheet) تحتوي المتشابهات أو التفسير الميسر لتلك الآية فقط، دون مغادرة الصفحة.

### 2-5. الاستماع "الخفي" (Audio Ambience) [إضافة إبداعية]
- **الوصف:** خيار لتشغيل تلاوة خافتة جداً (Background Audio) لقارئ هادئ يرافق قراءتك، أو أصوات طبيعية (مثل صوت مطر خفيف أو رياح) لتعزيز الهدوء والتركيز (White Noise).

---

## القسم الثالث: تفاعلات الورد والروحانيات

### 3-1. زر "تأمل" (Reflection) [فكرة المستخدم]
- **الوصف:** ضغط مطول على الآية يفتح مجال لكتابة خاطرة.
- **الإضافة:** حفظ الخواطر في "مذكرات رمضانية" يمكن مراجعتها لاحقاً، مع إمكانية تصديرها كصورة جميلة للمشاركة.

### 3-2. ملاح الجزء (Juz Navigator) [فكرة المستخدم]
- **الوصف:** شريط جانبي يوضح موقعك في الحزب.
- **الإضافة:** يمكن دمجه مع **شريط التمرير (Scrollbar)** نفسه، بحيث تكون العلامات (ربع، نصف) محفورة على شريط التمرير.

### 3-3. النبض الجماعي (Community Pulse) [فكرة المستخدم + إضافة إبداعية]
- **الوصف:** "يقرأ معك الآن X شخص".
- **الإضافة:** ليس مجرد رقم، بل يمكن أن يكون "ومضات" خفيفة في أسفل الشاشة تمثل أشخاصاً آخرين أنهوا آيات معينة (بدون أسماء، فقط شعور بالحضور). *ملاحظة: هذا يتطلب Backend حقيقي، ويمكن محاكاته (Simulated) في النسخة الحالية لعدم وجود سيرفر.*

### 3-4. احتفالية "تم الورد" (Celebration Mode) [فكرة المستخدم]
- **الوصف:** الكونفيتي (Pro version) والزر الذهبي.
- **الإضافة:** بعد الاحتفال، تظهر شاشة "إحصاءات الجلسة": كم دقيقة قرأت، عدد الآيات، وهل كنت أسرع أم أبطأ من المعتاد.

### 3-5. دعاء الختم الجزئي [إضافة إبداعية]
- **الوصف:** عند نهاية الورد اليومي، يقترح التطبيق دعاءً قصيراً يناسب الآيات التي قرأتها (إذا أمكن ربطها) أو دعاءً عاماً بالقبول، ليختم المستخدم جلسته بذكر الله.

---

## آلية التنفيذ المقترحة

أقترح البدء بالتالي (المرحلة الأولى):
1. **تجهيز ملف `quran.html`** لعرض النص القرآني (XML parsing) بشكل صحيح ومريح.
2. **تنفيذ 1-1 و 1-2** في الصفحة الرئيسية لربط الصفحتين.
3. **تنفيذ 2-1 و 2-2** وهما جوهر تجربة القراءة (الوضع الغامر والتتبع).

بانتظار توجيهك: **ما هي الأرقام التي نعتمدها، وما الذي نستبعده؟**
