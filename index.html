<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูููุฑุฉ ุฑูุถุงู</title>
    <meta name="description" content="ุชุทุจูู ูููุฑุฉ ุฑูุถุงู - ุชุชุจุน ุนุจุงุฏุงุชู ูู ุดูุฑ ุงูุตูุงู">
    <meta name="theme-color" content="#0a1931">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>๐</text></svg>">
    
    <!-- ุฎุท Tajawal -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- ุฎุฏูุฉ ุงูุนููุงุก ููู PWA -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js');
            });
        }
    </script>
</head>
<body>
    <!-- ุงูุฑุณุงูุฉ ุงูุฃููู ููุฎุตูุตูุฉ -->
    <div id="privacyMessage" class="privacy-modal">
        <div class="privacy-content">
            <div class="privacy-icons">
                <div class="privacy-icon"><i class="fas fa-lock"></i> ูุญูู</div>
                <div class="privacy-icon"><i class="fas fa-wifi-slash"></i> ุจุฏูู ุฅูุชุฑูุช</div>
                <div class="privacy-icon"><i class="fas fa-user-slash"></i> ุจุฏูู ุญุณุงุจ</div>
            </div>
            <p class="privacy-text">ุจูุงูุงุชู ุชุจูู ุนูู ุฌูุงุฒู ููุท. ูุง ุชูุฌุฏ ุฎูุงุฏู ุฎุงุฑุฌูุฉ ููุง ุชุชุจุน.</p>
            <button id="privacyClose" class="btn-primary">ูููุช</button>
        </div>
    </div>

    <!-- ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ -->
    <div class="container">
        <!-- ุดุฑูุท ุงูุนููุงู -->
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">ูููุฑุฉ ุฑูุถุงู</h1>
                <div class="header-actions">
                    <button id="settingsBtn" class="icon-btn" title="ุงูุฅุนุฏุงุฏุงุช">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button id="exportBtn" class="icon-btn" title="ุชุตุฏูุฑ ุงูุจูุงูุงุช">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="date-display">
                <span id="hijriDate">ุฑูุถุงู 1445</span>
                <span id="gregorianDate"> - 1 ุฃุจุฑูู 2024</span>
            </div>
        </header>

        <!-- ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ -->
        <main class="dashboard">
            <!-- ุนูุตุฑ ุชูุฏู ุงูููู -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุชูุฏู ุงูููู</h2>
                    <span id="dayProgressText" class="progress-text">75%</span>
                </div>
                <div class="progress-container">
                    <div class="progress-circle">
                        <svg width="120" height="120" viewBox="0 0 120 120">
                            <circle cx="60" cy="60" r="54" stroke="#e6e6e6" stroke-width="10" fill="none"></circle>
                            <circle id="progressRing" cx="60" cy="60" r="54" stroke="#d4af37" stroke-width="10" fill="none" stroke-dasharray="339.292" stroke-dashoffset="84.823" transform="rotate(-90 60 60)"></circle>
                        </svg>
                        <div class="progress-center">
                            <span id="progressPercent" class="progress-percent">75%</span>
                            <span class="progress-label">ุฅูุฌุงุฒ</span>
                        </div>
                    </div>
                </div>
                <div class="progress-time">
                    <span><i class="far fa-clock"></i> ูุชุจูู: <span id="timeRemaining">4 ุณุงุนุงุช</span></span>
                    <span><i class="fas fa-calendar-day"></i> ุงูููู: <span id="dayNumber">15</span> ูู 30</span>
                </div>
            </div>

            <!-- ุงูุตูุงุฉ ุงููุงุฏูุฉ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุงูุตูุงุฉ ุงููุงุฏูุฉ</h2>
                    <span class="prayer-icon"><i class="fas fa-mosque"></i></span>
                </div>
                <div class="next-prayer">
                    <div class="prayer-info">
                        <h3 id="nextPrayerName">ุงููุบุฑุจ</h3>
                        <div class="countdown" id="prayerCountdown">
                            <span class="countdown-number">02</span>:<span class="countdown-number">45</span>:<span class="countdown-number">18</span>
                        </div>
                        <div class="prayer-time">
                            <i class="far fa-clock"></i>
                            <span id="nextPrayerTime">19:23</span>
                        </div>
                    </div>
                    <button id="prayerTableBtn" class="icon-btn small-btn" title="ุฌุฏูู ุงูุตููุงุช">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
            </div>

            <!-- ุงูุชุชุจุน ุงููููู -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุงูุชุชุจุน ุงููููู</h2>
                    <span id="todayScore" class="score">8/10</span>
                </div>
                <div class="tracker-grid">
                    <div class="tracker-item" data-action="fajr">
                        <div class="tracker-icon"><i class="fas fa-sun"></i></div>
                        <span class="tracker-label">ุงููุฌุฑ</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="fajrToggle" class="toggle-checkbox">
                            <label for="fajrToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="tracker-item" data-action="dhuhr">
                        <div class="tracker-icon"><i class="fas fa-sun"></i></div>
                        <span class="tracker-label">ุงูุธูุฑ</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="dhuhrToggle" class="toggle-checkbox">
                            <label for="dhuhrToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="tracker-item" data-action="asr">
                        <div class="tracker-icon"><i class="fas fa-sun"></i></div>
                        <span class="tracker-label">ุงูุนุตุฑ</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="asrToggle" class="toggle-checkbox">
                            <label for="asrToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="tracker-item" data-action="maghrib">
                        <div class="tracker-icon"><i class="fas fa-moon"></i></div>
                        <span class="tracker-label">ุงููุบุฑุจ</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="maghribToggle" class="toggle-checkbox">
                            <label for="maghribToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="tracker-item" data-action="isha">
                        <div class="tracker-icon"><i class="fas fa-moon"></i></div>
                        <span class="tracker-label">ุงูุนุดุงุก</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="ishaToggle" class="toggle-checkbox">
                            <label for="ishaToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="tracker-item" data-action="taraweeh">
                        <div class="tracker-icon"><i class="fas fa-star-and-crescent"></i></div>
                        <span class="tracker-label">ุชุฑุงููุญ</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="taraweehToggle" class="toggle-checkbox">
                            <label for="taraweehToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="tracker-item" data-action="quran">
                        <div class="tracker-icon"><i class="fas fa-book-quran"></i></div>
                        <span class="tracker-label">ูุฑุขู</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="quranToggle" class="toggle-checkbox">
                            <label for="quranToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="tracker-item" data-action="tahajjud">
                        <div class="tracker-icon"><i class="fas fa-pray"></i></div>
                        <span class="tracker-label">ุชูุฌุฏ</span>
                        <div class="tracker-toggle">
                            <input type="checkbox" id="tahajjudToggle" class="toggle-checkbox">
                            <label for="tahajjudToggle" class="toggle-label"></label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุชุชุจุน ุงููุฑุขู -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุชูุฏู ุงููุฑุขู</h2>
                    <button id="quranDetailsBtn" class="text-btn">ุชูุงุตูู</button>
                </div>
                <div class="quran-progress">
                    <div class="quran-stats">
                        <div class="quran-stat">
                            <span class="quran-stat-value" id="juzCompleted">12</span>
                            <span class="quran-stat-label">ุฌุฒุก</span>
                        </div>
                        <div class="quran-stat">
                            <span class="quran-stat-value" id="pagesCompleted">180</span>
                            <span class="quran-stat-label">ุตูุญุฉ</span>
                        </div>
                        <div class="quran-stat">
                            <span class="quran-stat-value" id="khatmaProgress">0.4</span>
                            <span class="quran-stat-label">ุฎุชูุฉ</span>
                        </div>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar">
                            <div id="quranProgressBar" class="progress-bar-fill" style="width: 40%"></div>
                        </div>
                        <div class="progress-bar-labels">
                            <span>ุงูุจุฏุงูุฉ</span>
                            <span>ุงููุฏู: <span id="quranTarget">1</span> ุฎุชูุฉ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุงูุชุญุฏู ุงููููู -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุงูุชุญุฏู ุงููููู</h2>
                    <span class="challenge-icon"><i class="fas fa-trophy"></i></span>
                </div>
                <div class="challenge-content">
                    <p id="dailyChallenge">ุชุตุฏู ุนูู ุดุฎุต ูุญุชุงุฌ ุงููููุ ููู ุจูุจูุบ ุจุณูุท.</p>
                </div>
            </div>

            <!-- ุฎุฑูุทุฉ ุงูุฃุซุฑ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุฎุฑูุทุฉ ุงูุฃุซุฑ</h2>
                    <span class="impact-count" id="impactCount">24/30</span>
                </div>
                <div class="impact-grid" id="impactGrid">
                    <!-- ุณูุชู ุฅูุดุงุก ุงููุฌูู ุฏููุงูููููุง -->
                </div>
            </div>

            <!-- ุงูุฅูุฏุงุก -->
            <div class="dedication-container">
                <div class="dedication-content" id="dedicationText">
                    <i class="fas fa-heart"></i>
                    <span>ุฅูู ุฑูุญ ุฃููุ ุงูุชู ุนููุชูู ูุนูู ุงูุตุจุฑ ูุงูุฅููุงู.</span>
                </div>
                <button id="editDedicationBtn" class="text-btn small-text-btn">ุชุนุฏูู</button>
            </div>
        </main>

        <!-- ุฒุฑ ุงูุนุงุฆูุฉ ูููุณุจุญุฉ -->
        <button id="tasbihBtn" class="fab">
            <i class="fas fa-hands-praying"></i>
            <span class="fab-counter" id="tasbihCount">0</span>
        </button>
    </div>

    <!-- Modal ุงููุณุจุญุฉ -->
    <div id="tasbihModal" class="modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h2 class="modal-title">ุงููุณุจุญุฉ ุงูุฅููุชุฑูููุฉ</h2>
                <button class="modal-close" id="tasbihClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tasbih-display">
                    <div class="tasbih-count" id="modalTasbihCount">0</div>
                    <div class="tasbih-type" id="tasbihType">ุณุจุญุงู ุงููู</div>
                </div>
                <div class="tasbih-controls">
                    <button id="tasbihAdd" class="btn-primary tasbih-btn">+1</button>
                    <button id="tasbihReset" class="btn-secondary">ุฅุนุงุฏุฉ ุชุนููู</button>
                    <button id="tasbihChange" class="btn-secondary">ุชุบููุฑ ุงูุฐูุฑ</button>
                </div>
                <div class="tasbih-presets">
                    <button class="preset-btn" data-dhikr="ุณุจุญุงู ุงููู">ุณุจุญุงู ุงููู (33)</button>
                    <button class="preset-btn" data-dhikr="ุงูุญูุฏ ููู">ุงูุญูุฏ ููู (33)</button>
                    <button class="preset-btn" data-dhikr="ุงููู ุฃูุจุฑ">ุงููู ุฃูุจุฑ (34)</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ุชุชุจุน ุงููุฑุขู -->
    <div id="quranModal" class="modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h2 class="modal-title">ุชุชุจุน ุชูุฏู ุงููุฑุขู</h2>
                <button class="modal-close" id="quranClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="khatmaTarget">ุนุฏุฏ ุงูุฎุชูุงุช ุงููุณุชูุฏู:</label>
                    <div class="input-with-button">
                        <input type="number" id="khatmaTarget" min="1" max="10" value="1">
                        <button id="updateKhatmaTarget" class="btn-primary">ุชุญุฏูุซ</button>
                    </div>
                </div>
                <div class="input-group">
                    <label>ุฅุถุงูุฉ ุชูุฏู:</label>
                    <div class="quran-inputs">
                        <div class="input-with-label">
                            <input type="number" id="addJuz" min="0" max="30" value="0">
                            <span>ุฃุฌุฒุงุก</span>
                        </div>
                        <div class="input-with-label">
                            <input type="number" id="addPages" min="0" max="20" value="0">
                            <span>ุตูุญุงุช</span>
                        </div>
                        <button id="addQuranProgress" class="btn-primary">ุฅุถุงูุฉ</button>
                    </div>
                </div>
                <div class="stats-summary">
                    <h3>ุงูุฅุญุตุงุกุงุช</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value" id="totalJuz">12</span>
                            <span class="stat-label">ุงูุฃุฌุฒุงุก</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="totalPages">180</span>
                            <span class="stat-label">ุงูุตูุญุงุช</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="totalKhatmat">0.4</span>
                            <span class="stat-label">ุงูุฎุชูุงุช</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ุงูุฅูุฏุงุก -->
    <div id="dedicationModal" class="modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h2 class="modal-title">ุฅูุฏุงุก ุงูุนุจุงุฏุฉ</h2>
                <button class="modal-close" id="dedicationClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="dedicationTo">ุฅูู:</label>
                    <input type="text" id="dedicationTo" placeholder="ุงุณู ุงูุดุฎุต ุฃู ุงูุฌูุฉ">
                </div>
                <div class="input-group">
                    <label for="dedicationMessage">ุงูุฑุณุงูุฉ:</label>
                    <textarea id="dedicationMessage" rows="3" placeholder="ุฑุณุงูุฉ ูุฎุชุตุฑุฉ ุนู ุณุจุจ ุงูุฅูุฏุงุก..."></textarea>
                </div>
                <button id="saveDedication" class="btn-primary">ุญูุธ ุงูุฅูุฏุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุฌุฏูู ุงูุตููุงุช -->
    <div id="prayerModal" class="modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h2 class="modal-title">ุฃููุงุช ุงูุตูุงุฉ</h2>
                <button class="modal-close" id="prayerClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="prayer-table">
                    <div class="prayer-row">
                        <span class="prayer-name">ุงููุฌุฑ</span>
                        <span class="prayer-time">04:45</span>
                        <span class="prayer-status completed"><i class="fas fa-check"></i></span>
                    </div>
                    <div class="prayer-row">
                        <span class="prayer-name">ุงูุธูุฑ</span>
                        <span class="prayer-time">12:30</span>
                        <span class="prayer-status pending"><i class="far fa-clock"></i></span>
                    </div>
                    <div class="prayer-row">
                        <span class="prayer-name">ุงูุนุตุฑ</span>
                        <span class="prayer-time">15:45</span>
                        <span class="prayer-status pending"><i class="far fa-clock"></i></span>
                    </div>
                    <div class="prayer-row">
                        <span class="prayer-name">ุงููุบุฑุจ</span>
                        <span class="prayer-time">19:23</span>
                        <span class="prayer-status upcoming"><i class="fas fa-bell"></i></span>
                    </div>
                    <div class="prayer-row">
                        <span class="prayer-name">ุงูุนุดุงุก</span>
                        <span class="prayer-time">20:45</span>
                        <span class="prayer-status pending"><i class="far fa-clock"></i></span>
                    </div>
                    <div class="prayer-row">
                        <span class="prayer-name">ุงูุชุฑุงููุญ</span>
                        <span class="prayer-time">21:30</span>
                        <span class="prayer-status pending"><i class="far fa-clock"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ุงูุฅุนุฏุงุฏุงุช -->
    <div id="settingsModal" class="modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h2 class="modal-title">ุงูุฅุนุฏุงุฏุงุช</h2>
                <button class="modal-close" id="settingsClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <h3>ุนุงู</h3>
                    <div class="setting-item">
                        <span>ูุถุน ุงูุณูููุฉ (ุชููุงุฆู ูู ุงููุฌุฑ ููุดุฑูู)</span>
                        <div class="toggle-switch">
                            <input type="checkbox" id="serenityMode" checked>
                            <label for="serenityMode" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span>ุงูุชูุจููุงุช</span>
                        <div class="toggle-switch">
                            <input type="checkbox" id="notificationsToggle" checked>
                            <label for="notificationsToggle" class="toggle-label"></label>
                        </div>
                    </div>
                </div>
                <div class="settings-group">
                    <h3>ุงูุจูุงูุงุช</h3>
                    <div class="setting-item">
                        <span>ุชุตุฏูุฑ ุงูุจูุงูุงุช</span>
                        <button id="exportDataBtn" class="btn-secondary">ุชุตุฏูุฑ PDF</button>
                    </div>
                    <div class="setting-item">
                        <span>ูุณุญ ุงูุจูุงูุงุช</span>
                        <button id="clearDataBtn" class="btn-danger">ูุณุญ ุงููู</button>
                    </div>
                </div>
                <div class="settings-group">
                    <h3>ุญูู ุงูุชุทุจูู</h3>
                    <div class="about-info">
                        <p><strong>ูููุฑุฉ ุฑูุถุงู</strong></p>
                        <p>ุชุทุจูู ูุญูู ุจุงููุงููุ ูุง ูุญุชุงุฌ ุงุชุตุงู ุฅูุชุฑูุช</p>
                        <p>ุงูุฅุตุฏุงุฑ 1.0.0</p>
                        <p>ุชุทููุฑ: ุตุฏุงู ุฃุญูุฏ</p>
                        <div class="contact-links">
                            <a href="#" class="contact-link"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="contact-link"><i class="fab fa-github"></i></a>
                            <a href="#" class="contact-link"><i class="fas fa-envelope"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุชููุฆุฉ ุงูุนูุฏ -->
    <div id="eidCelebration" class="eid-overlay hidden">
        <div class="eid-content">
            <h2 class="eid-title">ูู ุนุงู ูุฃูุชู ุจุฎูุฑ</h2>
            <p class="eid-message">ุชูุงูููุง ุจููุงุณุจุฉ ุนูุฏ ุงููุทุฑ ุงููุจุงุฑู!</p>
            <p class="eid-submessage">ุชู ุฅููุงู 30 ููููุง ูู ุงูุตูุงู ูุงูุนุจุงุฏุฉ ุจูุฌุงุญ.</p>
            <div class="eid-stats">
                <div class="eid-stat">
                    <span class="eid-stat-value">100%</span>
                    <span class="eid-stat-label">ุฅูุฌุงุฒ ุฑูุถุงู</span>
                </div>
                <div class="eid-stat">
                    <span class="eid-stat-value">1.2</span>
                    <span class="eid-stat-label">ุฎุชูุงุช ูุฑุขู</span>
                </div>
                <div class="eid-stat">
                    <span class="eid-stat-value">150</span>
                    <span class="eid-stat-label">ูุฑุงุช ุฐูุฑ</span>
                </div>
            </div>
            <button id="shareEid" class="btn-primary">ูุดุงุฑูุฉ ุงูุฅูุฌุงุฒ</button>
            <div class="eid-signature">
                <p>ูููุฑุฉ ุฑูุถุงู</p>
                <p>ุชุทููุฑ: ุตุฏุงู ุฃุญูุฏ</p>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="app.js"></script>
</body>
</html>